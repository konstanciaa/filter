{% extends 'base.html.twig' %}

{% block body %}
    <div class="container mt-5">
        <h1>Finanzbuchhaltung</h1>

        {{ form_start(form, {'attr': {'class': 'd-flex align-items-center', 'id': 'filterForm'}}) }}
            <div class="form-group mb-2 mr-3">
                {{ form_label(form.vorgangsart, null, {'label_attr': {'class': 'mr-2 font-weight-bold'}}) }}
                {{ form_widget(form.vorgangsart, {'attr': {'class': 'custom-select', 'onchange': 'submitForm()'}}) }}
            </div>
            
        {{ form_end(form) }}

        <table class="table table-striped mt-4">
            <thead>
                <tr>
                    <th>Nummer</th>
                    <th>Vorgangsart</th>
                    <th>Betreff</th>
                    <th>Kunde</th>
                    <th>Betrag</th>
                </tr>
            </thead>
            <tbody>
                {% for fin in finanz %}
                    <tr>
                        <td>{{ fin.nummer }}</td>
                        <td>{{ fin.vorgangsart }}</td>
                        <td>{{ fin.betreff }}</td>
                        <td>{{ fin.kunde }}</td>
                        <td>{{ fin.betrag|number_format(2, ',', '.') }} â‚¬</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <script>
        function submitForm() {
            document.getElementById('filterForm').submit();
        }
    </script>
{% endblock %}
